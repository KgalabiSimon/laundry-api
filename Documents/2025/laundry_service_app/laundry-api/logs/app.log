2025-08-06 12:57:41,096 - app.main - INFO - Starting LaundryPro API...
2025-08-06 12:57:47,161 - app.main - INFO - Starting LaundryPro API...
2025-08-06 13:01:31,172 - app.main - INFO - Starting LaundryPro API...
2025-08-06 13:01:33,906 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-08-06 13:01:33,909 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:01:34,000 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-08-06 13:01:34,022 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit',)
2025-08-06 13:01:34,029 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-08-06 13:01:34,041 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:01:34,089 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-08-06 13:01:34,091 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-08-06 13:01:34,153 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-08-06 13:01:34,157 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:01:34,174 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-08-06 13:01:34,254 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-08-06 13:01:34,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-06 13:01:34,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:34,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00406s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:34,721 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:34,723 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:34,749 - sqlalchemy.engine.Engine - INFO - [cached since 0.1753s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:34,754 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:34,757 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:34,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.2331s ago] {'table_name': 'workers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:34,837 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:34,848 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:34,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.3286s ago] {'table_name': 'service_types', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:34,940 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:34,947 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:34,951 - sqlalchemy.engine.Engine - INFO - [cached since 0.378s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,018 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,021 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,031 - sqlalchemy.engine.Engine - INFO - [cached since 0.4574s ago] {'table_name': 'order_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,038 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,052 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,096 - sqlalchemy.engine.Engine - INFO - [cached since 0.5225s ago] {'table_name': 'order_status_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,100 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,103 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,120 - sqlalchemy.engine.Engine - INFO - [cached since 0.5469s ago] {'table_name': 'points_transactions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,167 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,169 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,189 - sqlalchemy.engine.Engine - INFO - [cached since 0.6151s ago] {'table_name': 'loyalty_tier_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,203 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,205 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,241 - sqlalchemy.engine.Engine - INFO - [cached since 0.667s ago] {'table_name': 'subscription_plan_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,269 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:01:35,287 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:35,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.01285s] {'typname_1': 'userrole', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:35,303 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:35,307 - sqlalchemy.engine.Engine - INFO - CREATE TYPE userrole AS ENUM ('ADMIN', 'WORKER', 'CUSTOMER')
2025-08-06 13:01:35,321 - sqlalchemy.engine.Engine - INFO - [no key 0.01411s] {}
2025-08-06 13:01:36,159 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,205 - sqlalchemy.engine.Engine - INFO - [cached since 0.9183s ago] {'typname_1': 'loyaltytier', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,217 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,220 - sqlalchemy.engine.Engine - INFO - CREATE TYPE loyaltytier AS ENUM ('BRONZE', 'SILVER', 'GOLD', 'PLATINUM')
2025-08-06 13:01:36,236 - sqlalchemy.engine.Engine - INFO - [no key 0.01599s] {}
2025-08-06 13:01:36,347 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,352 - sqlalchemy.engine.Engine - INFO - [cached since 1.065s ago] {'typname_1': 'subscriptionplan', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,371 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,386 - sqlalchemy.engine.Engine - INFO - CREATE TYPE subscriptionplan AS ENUM ('BASIC', 'PREMIUM', 'FAMILY', 'BUSINESS')
2025-08-06 13:01:36,404 - sqlalchemy.engine.Engine - INFO - [no key 0.02573s] {}
2025-08-06 13:01:36,420 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,435 - sqlalchemy.engine.Engine - INFO - [cached since 1.148s ago] {'typname_1': 'workerrole', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,455 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,459 - sqlalchemy.engine.Engine - INFO - CREATE TYPE workerrole AS ENUM ('WORKER', 'SUPERVISOR')
2025-08-06 13:01:36,472 - sqlalchemy.engine.Engine - INFO - [no key 0.01442s] {}
2025-08-06 13:01:36,506 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,522 - sqlalchemy.engine.Engine - INFO - [cached since 1.236s ago] {'typname_1': 'servicecategory', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,534 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,538 - sqlalchemy.engine.Engine - INFO - CREATE TYPE servicecategory AS ENUM ('WASH', 'DRY_CLEAN', 'IRON', 'SPECIAL')
2025-08-06 13:01:36,553 - sqlalchemy.engine.Engine - INFO - [no key 0.01459s] {}
2025-08-06 13:01:36,566 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,572 - sqlalchemy.engine.Engine - INFO - [cached since 1.285s ago] {'typname_1': 'orderstatus', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,588 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,590 - sqlalchemy.engine.Engine - INFO - CREATE TYPE orderstatus AS ENUM ('PENDING', 'IN_PROGRESS', 'READY', 'COMPLETED', 'CANCELLED')
2025-08-06 13:01:36,602 - sqlalchemy.engine.Engine - INFO - [no key 0.01204s] {}
2025-08-06 13:01:36,703 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:01:36,752 - sqlalchemy.engine.Engine - INFO - [cached since 1.466s ago] {'typname_1': 'transactiontype', 'nspname_1': 'pg_catalog'}
2025-08-06 13:01:36,770 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:01:36,786 - sqlalchemy.engine.Engine - INFO - CREATE TYPE transactiontype AS ENUM ('EARNED', 'REDEEMED', 'EXPIRED', 'BONUS', 'ADJUSTMENT')
2025-08-06 13:01:36,821 - sqlalchemy.engine.Engine - INFO - [no key 0.03487s] {}
2025-08-06 13:01:36,873 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	email VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	phone VARCHAR, 
	hashed_password VARCHAR NOT NULL, 
	role userrole NOT NULL, 
	is_active BOOLEAN, 
	is_verified BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	last_login_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-08-06 13:01:37,570 - sqlalchemy.engine.Engine - INFO - [no key 0.69696s] {}
2025-08-06 13:01:38,694 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_users_id ON users (id)
2025-08-06 13:01:38,698 - sqlalchemy.engine.Engine - INFO - [no key 0.00391s] {}
2025-08-06 13:01:38,847 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-08-06 13:01:38,852 - sqlalchemy.engine.Engine - INFO - [no key 0.00471s] {}
2025-08-06 13:01:38,989 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE service_types (
	id SERIAL NOT NULL, 
	name VARCHAR NOT NULL, 
	category servicecategory NOT NULL, 
	base_price NUMERIC(10, 2) NOT NULL, 
	description TEXT, 
	estimated_duration_hours INTEGER, 
	is_active BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-08-06 13:01:39,071 - sqlalchemy.engine.Engine - INFO - [no key 0.08143s] {}
2025-08-06 13:01:39,222 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_service_types_id ON service_types (id)
2025-08-06 13:01:39,226 - sqlalchemy.engine.Engine - INFO - [no key 0.00367s] {}
2025-08-06 13:01:39,269 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_service_types_name ON service_types (name)
2025-08-06 13:01:39,271 - sqlalchemy.engine.Engine - INFO - [no key 0.00214s] {}
2025-08-06 13:01:39,317 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE loyalty_tier_configs (
	id SERIAL NOT NULL, 
	tier_name VARCHAR NOT NULL, 
	min_orders INTEGER NOT NULL, 
	discount_percentage NUMERIC(5, 2) NOT NULL, 
	points_multiplier NUMERIC(3, 2) NOT NULL, 
	color_code VARCHAR NOT NULL, 
	is_active BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (tier_name)
)


2025-08-06 13:01:39,369 - sqlalchemy.engine.Engine - INFO - [no key 0.05238s] {}
2025-08-06 13:01:39,920 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_loyalty_tier_configs_id ON loyalty_tier_configs (id)
2025-08-06 13:01:39,934 - sqlalchemy.engine.Engine - INFO - [no key 0.01425s] {}
2025-08-06 13:01:39,996 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subscription_plan_configs (
	id SERIAL NOT NULL, 
	plan_name VARCHAR NOT NULL, 
	discount_percentage NUMERIC(5, 2) NOT NULL, 
	points_bonus_multiplier NUMERIC(3, 2) NOT NULL, 
	monthly_fee NUMERIC(10, 2), 
	description TEXT, 
	is_active BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (plan_name)
)


2025-08-06 13:01:40,034 - sqlalchemy.engine.Engine - INFO - [no key 0.03899s] {}
2025-08-06 13:01:40,223 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_subscription_plan_configs_id ON subscription_plan_configs (id)
2025-08-06 13:01:40,231 - sqlalchemy.engine.Engine - INFO - [no key 0.00806s] {}
2025-08-06 13:01:40,347 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE customers (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	address TEXT, 
	loyalty_points INTEGER, 
	loyalty_tier loyaltytier, 
	subscription_plan subscriptionplan, 
	total_spent NUMERIC(10, 2), 
	total_orders INTEGER, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-08-06 13:01:40,665 - sqlalchemy.engine.Engine - INFO - [no key 0.31791s] {}
2025-08-06 13:01:41,142 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_customers_id ON customers (id)
2025-08-06 13:01:41,144 - sqlalchemy.engine.Engine - INFO - [no key 0.00191s] {}
2025-08-06 13:01:41,202 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE workers (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	employee_id VARCHAR NOT NULL, 
	worker_role workerrole, 
	is_active BOOLEAN, 
	total_orders_processed INTEGER, 
	created_by_id INTEGER, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(created_by_id) REFERENCES users (id)
)


2025-08-06 13:01:41,251 - sqlalchemy.engine.Engine - INFO - [no key 0.04902s] {}
2025-08-06 13:01:41,582 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_workers_id ON workers (id)
2025-08-06 13:01:41,589 - sqlalchemy.engine.Engine - INFO - [no key 0.00681s] {}
2025-08-06 13:01:41,709 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_workers_employee_id ON workers (employee_id)
2025-08-06 13:01:41,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00283s] {}
2025-08-06 13:01:41,919 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE orders (
	id SERIAL NOT NULL, 
	tracking_id VARCHAR NOT NULL, 
	customer_id INTEGER NOT NULL, 
	status orderstatus, 
	total_amount NUMERIC(10, 2) NOT NULL, 
	discount_amount NUMERIC(10, 2), 
	final_amount NUMERIC(10, 2) NOT NULL, 
	points_earned INTEGER, 
	points_redeemed INTEGER, 
	captured_by_id INTEGER, 
	assigned_to_id INTEGER, 
	notes TEXT, 
	estimated_completion_time TIMESTAMP WITH TIME ZONE, 
	actual_completion_time TIMESTAMP WITH TIME ZONE, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	completed_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id), 
	FOREIGN KEY(captured_by_id) REFERENCES users (id), 
	FOREIGN KEY(assigned_to_id) REFERENCES users (id)
)


2025-08-06 13:01:42,022 - sqlalchemy.engine.Engine - INFO - [no key 0.10232s] {}
2025-08-06 13:01:42,149 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_orders_tracking_id ON orders (tracking_id)
2025-08-06 13:01:42,166 - sqlalchemy.engine.Engine - INFO - [no key 0.01666s] {}
2025-08-06 13:01:42,217 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_orders_id ON orders (id)
2025-08-06 13:01:42,220 - sqlalchemy.engine.Engine - INFO - [no key 0.00277s] {}
2025-08-06 13:01:42,293 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE order_items (
	id SERIAL NOT NULL, 
	order_id INTEGER NOT NULL, 
	service_type_id INTEGER NOT NULL, 
	quantity INTEGER NOT NULL, 
	price_per_item NUMERIC(10, 2) NOT NULL, 
	total_price NUMERIC(10, 2) NOT NULL, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id), 
	FOREIGN KEY(order_id) REFERENCES orders (id), 
	FOREIGN KEY(service_type_id) REFERENCES service_types (id)
)


2025-08-06 13:01:42,319 - sqlalchemy.engine.Engine - INFO - [no key 0.02555s] {}
2025-08-06 13:01:42,551 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_order_items_id ON order_items (id)
2025-08-06 13:01:42,555 - sqlalchemy.engine.Engine - INFO - [no key 0.00417s] {}
2025-08-06 13:01:42,597 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE order_status_history (
	id SERIAL NOT NULL, 
	order_id INTEGER NOT NULL, 
	status orderstatus NOT NULL, 
	updated_by_id INTEGER, 
	notes TEXT, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id), 
	FOREIGN KEY(order_id) REFERENCES orders (id), 
	FOREIGN KEY(updated_by_id) REFERENCES users (id)
)


2025-08-06 13:01:42,606 - sqlalchemy.engine.Engine - INFO - [no key 0.00854s] {}
2025-08-06 13:01:42,968 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_order_status_history_id ON order_status_history (id)
2025-08-06 13:01:42,971 - sqlalchemy.engine.Engine - INFO - [no key 0.00362s] {}
2025-08-06 13:01:43,068 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE points_transactions (
	id SERIAL NOT NULL, 
	customer_id INTEGER NOT NULL, 
	order_id INTEGER, 
	transaction_type transactiontype NOT NULL, 
	points INTEGER NOT NULL, 
	description TEXT NOT NULL, 
	processed_by_id INTEGER, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	PRIMARY KEY (id), 
	FOREIGN KEY(customer_id) REFERENCES customers (id), 
	FOREIGN KEY(order_id) REFERENCES orders (id), 
	FOREIGN KEY(processed_by_id) REFERENCES users (id)
)


2025-08-06 13:01:43,089 - sqlalchemy.engine.Engine - INFO - [no key 0.02186s] {}
2025-08-06 13:01:43,473 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_points_transactions_id ON points_transactions (id)
2025-08-06 13:01:43,476 - sqlalchemy.engine.Engine - INFO - [no key 0.00252s] {}
2025-08-06 13:01:43,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-06 13:01:43,859 - app.main - INFO - Database tables created/verified
2025-08-06 13:01:43,956 - app.utils.init_data - ERROR - Error initializing default data: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-06 13:06:40,108 - app.main - INFO - Shutting down LaundryPro API...
2025-08-06 13:07:27,185 - app.main - INFO - Starting LaundryPro API...
2025-08-06 13:07:27,346 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-08-06 13:07:27,347 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:07:27,350 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-08-06 13:07:27,352 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit',)
2025-08-06 13:07:27,364 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-08-06 13:07:27,365 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:07:27,367 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-08-06 13:07:27,368 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-08-06 13:07:27,371 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-08-06 13:07:27,381 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-06 13:07:27,383 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-08-06 13:07:27,384 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-08-06 13:07:27,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-06 13:07:27,405 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,417 - sqlalchemy.engine.Engine - INFO - [generated in 0.01217s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,468 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,469 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-08-06 13:07:27,471 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,479 - sqlalchemy.engine.Engine - INFO - [cached since 0.07465s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,483 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,484 - sqlalchemy.engine.Engine - DEBUG - Row ('customers',)
2025-08-06 13:07:27,488 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.09335s ago] {'table_name': 'workers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,502 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,504 - sqlalchemy.engine.Engine - DEBUG - Row ('workers',)
2025-08-06 13:07:27,505 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.1118s ago] {'table_name': 'service_types', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,520 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,531 - sqlalchemy.engine.Engine - DEBUG - Row ('service_types',)
2025-08-06 13:07:27,533 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,535 - sqlalchemy.engine.Engine - INFO - [cached since 0.1306s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,538 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,548 - sqlalchemy.engine.Engine - DEBUG - Row ('orders',)
2025-08-06 13:07:27,550 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,554 - sqlalchemy.engine.Engine - INFO - [cached since 0.1493s ago] {'table_name': 'order_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,565 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,567 - sqlalchemy.engine.Engine - DEBUG - Row ('order_items',)
2025-08-06 13:07:27,569 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,585 - sqlalchemy.engine.Engine - INFO - [cached since 0.1798s ago] {'table_name': 'order_status_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,597 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,599 - sqlalchemy.engine.Engine - DEBUG - Row ('order_status_history',)
2025-08-06 13:07:27,600 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,602 - sqlalchemy.engine.Engine - INFO - [cached since 0.1972s ago] {'table_name': 'points_transactions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,615 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,616 - sqlalchemy.engine.Engine - DEBUG - Row ('points_transactions',)
2025-08-06 13:07:27,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.2159s ago] {'table_name': 'loyalty_tier_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,634 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,635 - sqlalchemy.engine.Engine - DEBUG - Row ('loyalty_tier_configs',)
2025-08-06 13:07:27,636 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,649 - sqlalchemy.engine.Engine - INFO - [cached since 0.2441s ago] {'table_name': 'subscription_plan_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,652 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-06 13:07:27,653 - sqlalchemy.engine.Engine - DEBUG - Row ('subscription_plan_configs',)
2025-08-06 13:07:27,663 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,667 - sqlalchemy.engine.Engine - INFO - [generated in 0.00426s] {'typname_1': 'userrole', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,685 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,686 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-08-06 13:07:27,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.03698s ago] {'typname_1': 'loyaltytier', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,702 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,705 - sqlalchemy.engine.Engine - DEBUG - Row ('loyaltytier',)
2025-08-06 13:07:27,717 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.05669s ago] {'typname_1': 'subscriptionplan', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,730 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,732 - sqlalchemy.engine.Engine - DEBUG - Row ('subscriptionplan',)
2025-08-06 13:07:27,735 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.07582s ago] {'typname_1': 'workerrole', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,751 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,752 - sqlalchemy.engine.Engine - DEBUG - Row ('workerrole',)
2025-08-06 13:07:27,765 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,767 - sqlalchemy.engine.Engine - INFO - [cached since 0.1044s ago] {'typname_1': 'servicecategory', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,770 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,771 - sqlalchemy.engine.Engine - DEBUG - Row ('servicecategory',)
2025-08-06 13:07:27,785 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,787 - sqlalchemy.engine.Engine - INFO - [cached since 0.1238s ago] {'typname_1': 'orderstatus', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,800 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,801 - sqlalchemy.engine.Engine - DEBUG - Row ('orderstatus',)
2025-08-06 13:07:27,804 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-06 13:07:27,817 - sqlalchemy.engine.Engine - INFO - [cached since 0.154s ago] {'typname_1': 'transactiontype', 'nspname_1': 'pg_catalog'}
2025-08-06 13:07:27,822 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-06 13:07:27,832 - sqlalchemy.engine.Engine - DEBUG - Row ('transactiontype',)
2025-08-06 13:07:27,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-06 13:07:27,836 - app.main - INFO - Database tables created/verified
2025-08-06 13:07:27,868 - app.utils.init_data - ERROR - Error initializing default data: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-06 13:38:57,257 - app.main - INFO - Shutting down LaundryPro API...
2025-08-09 20:38:35,235 - app.main - INFO - Starting LaundryPro API...
2025-08-09 20:38:36,998 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-08-09 20:38:37,000 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:38:37,073 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-08-09 20:38:37,093 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit',)
2025-08-09 20:38:37,098 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-08-09 20:38:37,104 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:38:37,116 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-08-09 20:38:37,118 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-08-09 20:38:37,120 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-08-09 20:38:37,127 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:38:37,132 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-08-09 20:38:37,134 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-08-09 20:38:37,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:38:37,176 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00225s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,332 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,334 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-08-09 20:38:37,335 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,337 - sqlalchemy.engine.Engine - INFO - [cached since 0.1612s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,369 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,372 - sqlalchemy.engine.Engine - DEBUG - Row ('customers',)
2025-08-09 20:38:37,374 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,391 - sqlalchemy.engine.Engine - INFO - [cached since 0.215s ago] {'table_name': 'workers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,405 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,407 - sqlalchemy.engine.Engine - DEBUG - Row ('workers',)
2025-08-09 20:38:37,411 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,423 - sqlalchemy.engine.Engine - INFO - [cached since 0.2469s ago] {'table_name': 'service_types', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,441 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,444 - sqlalchemy.engine.Engine - DEBUG - Row ('service_types',)
2025-08-09 20:38:37,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.3175s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,506 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,510 - sqlalchemy.engine.Engine - DEBUG - Row ('orders',)
2025-08-09 20:38:37,523 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,538 - sqlalchemy.engine.Engine - INFO - [cached since 0.3624s ago] {'table_name': 'order_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,543 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,556 - sqlalchemy.engine.Engine - DEBUG - Row ('order_items',)
2025-08-09 20:38:37,557 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,571 - sqlalchemy.engine.Engine - INFO - [cached since 0.3951s ago] {'table_name': 'order_status_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,575 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,578 - sqlalchemy.engine.Engine - DEBUG - Row ('order_status_history',)
2025-08-09 20:38:37,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,605 - sqlalchemy.engine.Engine - INFO - [cached since 0.4291s ago] {'table_name': 'points_transactions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,627 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,656 - sqlalchemy.engine.Engine - DEBUG - Row ('points_transactions',)
2025-08-09 20:38:37,658 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.5177s ago] {'table_name': 'loyalty_tier_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,707 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,708 - sqlalchemy.engine.Engine - DEBUG - Row ('loyalty_tier_configs',)
2025-08-09 20:38:37,722 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,741 - sqlalchemy.engine.Engine - INFO - [cached since 0.5647s ago] {'table_name': 'subscription_plan_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,774 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:38:37,788 - sqlalchemy.engine.Engine - DEBUG - Row ('subscription_plan_configs',)
2025-08-09 20:38:37,807 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00397s] {'typname_1': 'userrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,835 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:37,838 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-08-09 20:38:37,842 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.1342s ago] {'typname_1': 'loyaltytier', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,958 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:37,961 - sqlalchemy.engine.Engine - DEBUG - Row ('loyaltytier',)
2025-08-09 20:38:37,967 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:37,972 - sqlalchemy.engine.Engine - INFO - [cached since 0.1655s ago] {'typname_1': 'subscriptionplan', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:37,994 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:37,999 - sqlalchemy.engine.Engine - DEBUG - Row ('subscriptionplan',)
2025-08-09 20:38:38,004 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:38,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.2213s ago] {'typname_1': 'workerrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:38,036 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:38,038 - sqlalchemy.engine.Engine - DEBUG - Row ('workerrole',)
2025-08-09 20:38:38,056 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:38,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.2535s ago] {'typname_1': 'servicecategory', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:38,074 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:38,076 - sqlalchemy.engine.Engine - DEBUG - Row ('servicecategory',)
2025-08-09 20:38:38,091 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:38,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.2877s ago] {'typname_1': 'orderstatus', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:38,103 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:38,127 - sqlalchemy.engine.Engine - DEBUG - Row ('orderstatus',)
2025-08-09 20:38:38,139 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:38:38,142 - sqlalchemy.engine.Engine - INFO - [cached since 0.3352s ago] {'typname_1': 'transactiontype', 'nspname_1': 'pg_catalog'}
2025-08-09 20:38:38,154 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:38:38,242 - sqlalchemy.engine.Engine - DEBUG - Row ('transactiontype',)
2025-08-09 20:38:38,435 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:38:38,438 - app.main - INFO - Database tables created/verified
2025-08-09 20:38:38,588 - app.utils.init_data - ERROR - Error initializing default data: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-09 20:38:52,358 - app.main - ERROR - Global exception: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/main.py", line 70, in add_process_time_header
    response = await call_next(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/api/v1/endpoints/auth.py", line 25, in login
    user = authenticate_user(db, user_credentials.email, user_credentials.password)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/core/auth.py", line 151, in authenticate_user
    user = db.query(User).filter(User.email == email).first()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 406, in expect
    insp._post_inspect
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-09 20:43:17,640 - app.main - ERROR - Global exception: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/main.py", line 70, in add_process_time_header
    response = await call_next(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/api/v1/endpoints/auth.py", line 25, in login
    user = authenticate_user(db, user_credentials.email, user_credentials.password)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/core/auth.py", line 151, in authenticate_user
    user = db.query(User).filter(User.email == email).first()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 406, in expect
    insp._post_inspect
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-09 20:49:52,245 - app.main - INFO - Shutting down LaundryPro API...
2025-08-09 20:49:59,952 - app.main - INFO - Starting LaundryPro API...
2025-08-09 20:50:00,291 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-08-09 20:50:00,294 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:50:00,297 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-08-09 20:50:00,299 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit',)
2025-08-09 20:50:00,316 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-08-09 20:50:00,317 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:50:00,320 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-08-09 20:50:00,322 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-08-09 20:50:00,327 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-08-09 20:50:00,335 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:50:00,338 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-08-09 20:50:00,340 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-08-09 20:50:00,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:50:00,402 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,475 - sqlalchemy.engine.Engine - INFO - [generated in 0.07406s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,519 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,523 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-08-09 20:50:00,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,572 - sqlalchemy.engine.Engine - INFO - [cached since 0.1709s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,622 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,624 - sqlalchemy.engine.Engine - DEBUG - Row ('customers',)
2025-08-09 20:50:00,631 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.2348s ago] {'table_name': 'workers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,657 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,674 - sqlalchemy.engine.Engine - DEBUG - Row ('workers',)
2025-08-09 20:50:00,702 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,707 - sqlalchemy.engine.Engine - INFO - [cached since 0.306s ago] {'table_name': 'service_types', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,723 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,769 - sqlalchemy.engine.Engine - DEBUG - Row ('service_types',)
2025-08-09 20:50:00,773 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.3742s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,790 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,792 - sqlalchemy.engine.Engine - DEBUG - Row ('orders',)
2025-08-09 20:50:00,804 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,811 - sqlalchemy.engine.Engine - INFO - [cached since 0.4104s ago] {'table_name': 'order_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,840 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,841 - sqlalchemy.engine.Engine - DEBUG - Row ('order_items',)
2025-08-09 20:50:00,854 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.4564s ago] {'table_name': 'order_status_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,875 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,881 - sqlalchemy.engine.Engine - DEBUG - Row ('order_status_history',)
2025-08-09 20:50:00,883 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:00,953 - sqlalchemy.engine.Engine - INFO - [cached since 0.5519s ago] {'table_name': 'points_transactions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:00,973 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:00,987 - sqlalchemy.engine.Engine - DEBUG - Row ('points_transactions',)
2025-08-09 20:50:00,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.6059s ago] {'table_name': 'loyalty_tier_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,024 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:01,070 - sqlalchemy.engine.Engine - DEBUG - Row ('loyalty_tier_configs',)
2025-08-09 20:50:01,075 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,188 - sqlalchemy.engine.Engine - INFO - [cached since 0.7874s ago] {'table_name': 'subscription_plan_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,203 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:50:01,218 - sqlalchemy.engine.Engine - DEBUG - Row ('subscription_plan_configs',)
2025-08-09 20:50:01,224 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,238 - sqlalchemy.engine.Engine - INFO - [generated in 0.01410s] {'typname_1': 'userrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,251 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,253 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-08-09 20:50:01,255 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,270 - sqlalchemy.engine.Engine - INFO - [cached since 0.04623s ago] {'typname_1': 'loyaltytier', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,285 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,287 - sqlalchemy.engine.Engine - DEBUG - Row ('loyaltytier',)
2025-08-09 20:50:01,291 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,304 - sqlalchemy.engine.Engine - INFO - [cached since 0.08017s ago] {'typname_1': 'subscriptionplan', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,307 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,308 - sqlalchemy.engine.Engine - DEBUG - Row ('subscriptionplan',)
2025-08-09 20:50:01,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,354 - sqlalchemy.engine.Engine - INFO - [cached since 0.1303s ago] {'typname_1': 'workerrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,358 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,371 - sqlalchemy.engine.Engine - DEBUG - Row ('workerrole',)
2025-08-09 20:50:01,374 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,388 - sqlalchemy.engine.Engine - INFO - [cached since 0.1641s ago] {'typname_1': 'servicecategory', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,400 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,403 - sqlalchemy.engine.Engine - DEBUG - Row ('servicecategory',)
2025-08-09 20:50:01,406 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,418 - sqlalchemy.engine.Engine - INFO - [cached since 0.1945s ago] {'typname_1': 'orderstatus', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,421 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,423 - sqlalchemy.engine.Engine - DEBUG - Row ('orderstatus',)
2025-08-09 20:50:01,438 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:50:01,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.2172s ago] {'typname_1': 'transactiontype', 'nspname_1': 'pg_catalog'}
2025-08-09 20:50:01,452 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:50:01,454 - sqlalchemy.engine.Engine - DEBUG - Row ('transactiontype',)
2025-08-09 20:50:01,456 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:50:01,469 - app.main - INFO - Database tables created/verified
2025-08-09 20:50:01,504 - app.utils.init_data - ERROR - Error initializing default data: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-09 20:50:10,290 - app.main - ERROR - Global exception: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/main.py", line 70, in add_process_time_header
    response = await call_next(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/api/v1/endpoints/auth.py", line 25, in login
    user = authenticate_user(db, user_credentials.email, user_credentials.password)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/app/core/auth.py", line 151, in authenticate_user
    user = db.query(User).filter(User.email == email).first()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 406, in expect
    insp._post_inspect
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.worker_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.
2025-08-09 20:55:59,530 - app.main - INFO - Shutting down LaundryPro API...
2025-08-09 20:56:37,699 - app.main - INFO - Starting LaundryPro API...
2025-08-09 20:56:37,765 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-08-09 20:56:37,766 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:56:37,769 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-08-09 20:56:37,770 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 12.22 (Ubuntu 12.22-0ubuntu0.20.04.4) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit',)
2025-08-09 20:56:37,779 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-08-09 20:56:37,781 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:56:37,783 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-08-09 20:56:37,785 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-08-09 20:56:37,793 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-08-09 20:56:37,797 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-08-09 20:56:37,798 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-08-09 20:56:37,800 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-08-09 20:56:37,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:37,846 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:37,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00315s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:37,859 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:37,861 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-08-09 20:56:37,881 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:37,908 - sqlalchemy.engine.Engine - INFO - [cached since 0.06195s ago] {'table_name': 'customers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,011 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,014 - sqlalchemy.engine.Engine - DEBUG - Row ('customers',)
2025-08-09 20:56:38,016 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,036 - sqlalchemy.engine.Engine - INFO - [cached since 0.1902s ago] {'table_name': 'workers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,069 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,070 - sqlalchemy.engine.Engine - DEBUG - Row ('workers',)
2025-08-09 20:56:38,081 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,085 - sqlalchemy.engine.Engine - INFO - [cached since 0.2393s ago] {'table_name': 'service_types', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,113 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,151 - sqlalchemy.engine.Engine - DEBUG - Row ('service_types',)
2025-08-09 20:56:38,153 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,166 - sqlalchemy.engine.Engine - INFO - [cached since 0.3204s ago] {'table_name': 'orders', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,169 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,181 - sqlalchemy.engine.Engine - DEBUG - Row ('orders',)
2025-08-09 20:56:38,185 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,236 - sqlalchemy.engine.Engine - INFO - [cached since 0.3904s ago] {'table_name': 'order_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,247 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,253 - sqlalchemy.engine.Engine - DEBUG - Row ('order_items',)
2025-08-09 20:56:38,263 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,267 - sqlalchemy.engine.Engine - INFO - [cached since 0.4208s ago] {'table_name': 'order_status_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,276 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,281 - sqlalchemy.engine.Engine - DEBUG - Row ('order_status_history',)
2025-08-09 20:56:38,284 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.4558s ago] {'table_name': 'points_transactions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,359 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,363 - sqlalchemy.engine.Engine - DEBUG - Row ('points_transactions',)
2025-08-09 20:56:38,365 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,376 - sqlalchemy.engine.Engine - INFO - [cached since 0.5298s ago] {'table_name': 'loyalty_tier_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,384 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,385 - sqlalchemy.engine.Engine - DEBUG - Row ('loyalty_tier_configs',)
2025-08-09 20:56:38,392 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,401 - sqlalchemy.engine.Engine - INFO - [cached since 0.5547s ago] {'table_name': 'subscription_plan_configs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,410 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-08-09 20:56:38,412 - sqlalchemy.engine.Engine - DEBUG - Row ('subscription_plan_configs',)
2025-08-09 20:56:38,436 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,449 - sqlalchemy.engine.Engine - INFO - [generated in 0.01353s] {'typname_1': 'userrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,453 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,465 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-08-09 20:56:38,482 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,485 - sqlalchemy.engine.Engine - INFO - [cached since 0.0484s ago] {'typname_1': 'loyaltytier', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,493 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,498 - sqlalchemy.engine.Engine - DEBUG - Row ('loyaltytier',)
2025-08-09 20:56:38,504 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.08092s ago] {'typname_1': 'subscriptionplan', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,520 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,530 - sqlalchemy.engine.Engine - DEBUG - Row ('subscriptionplan',)
2025-08-09 20:56:38,534 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,541 - sqlalchemy.engine.Engine - INFO - [cached since 0.1011s ago] {'typname_1': 'workerrole', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,549 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,550 - sqlalchemy.engine.Engine - DEBUG - Row ('workerrole',)
2025-08-09 20:56:38,566 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,568 - sqlalchemy.engine.Engine - INFO - [cached since 0.1321s ago] {'typname_1': 'servicecategory', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,576 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,583 - sqlalchemy.engine.Engine - DEBUG - Row ('servicecategory',)
2025-08-09 20:56:38,586 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.1638s ago] {'typname_1': 'orderstatus', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,604 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,615 - sqlalchemy.engine.Engine - DEBUG - Row ('orderstatus',)
2025-08-09 20:56:38,625 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-08-09 20:56:38,633 - sqlalchemy.engine.Engine - INFO - [cached since 0.1971s ago] {'typname_1': 'transactiontype', 'nspname_1': 'pg_catalog'}
2025-08-09 20:56:38,637 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-08-09 20:56:38,647 - sqlalchemy.engine.Engine - DEBUG - Row ('transactiontype',)
2025-08-09 20:56:38,649 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:56:38,651 - app.main - INFO - Database tables created/verified
2025-08-09 20:56:38,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:38,804 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.phone AS users_phone, users.hashed_password AS users_hashed_password, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login_at AS users_last_login_at 
FROM users 
WHERE users.role = %(role_1)s 
 LIMIT %(param_1)s
2025-08-09 20:56:38,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.09285s] {'role_1': 'ADMIN', 'param_1': 1}
2025-08-09 20:56:39,194 - sqlalchemy.engine.Engine - DEBUG - Col ('users_id', 'users_email', 'users_name', 'users_phone', 'users_hashed_password', 'users_role', 'users_is_active', 'users_is_verified', 'users_created_at', 'users_updated_at', 'users_last_login_at')
2025-08-09 20:56:39,264 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/mnt/c/Users/Naspers/Documents/2025/laundry_service_app/laundry-api/.venv/lib/python3.8/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-09 20:56:39,343 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '<unknown>'
2025-08-09 20:56:39,365 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-08-09 20:56:39,661 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, name, phone, hashed_password, role, is_active, is_verified, updated_at, last_login_at) VALUES (%(email)s, %(name)s, %(phone)s, %(hashed_password)s, %(role)s, %(is_active)s, %(is_verified)s, %(updated_at)s, %(last_login_at)s) RETURNING users.id, users.created_at
2025-08-09 20:56:39,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00155s] {'email': 'admin@laundrysystem.com', 'name': 'System Administrator', 'phone': '+1234567890', 'hashed_password': '$2b$12$1rrA3BPS2nJz5Ubz/SPFjua4iTmgxPcDstj35I0fZGYptb3XOOkje', 'role': 'ADMIN', 'is_active': True, 'is_verified': True, 'updated_at': None, 'last_login_at': None}
2025-08-09 20:56:39,758 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'created_at')
2025-08-09 20:56:39,759 - sqlalchemy.engine.Engine - DEBUG - Row (1, datetime.datetime(2025, 8, 9, 20, 56, 38, 898992, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:39,761 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:56:39,835 - app.utils.init_data - INFO - Default admin user created
2025-08-09 20:56:39,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:39,853 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT service_types.id AS service_types_id, service_types.name AS service_types_name, service_types.category AS service_types_category, service_types.base_price AS service_types_base_price, service_types.description AS service_types_description, service_types.estimated_duration_hours AS service_types_estimated_duration_hours, service_types.is_active AS service_types_is_active, service_types.created_at AS service_types_created_at, service_types.updated_at AS service_types_updated_at 
FROM service_types) AS anon_1
2025-08-09 20:56:39,864 - sqlalchemy.engine.Engine - INFO - [generated in 0.01129s] {}
2025-08-09 20:56:39,949 - sqlalchemy.engine.Engine - DEBUG - Col ('count_1',)
2025-08-09 20:56:39,951 - sqlalchemy.engine.Engine - DEBUG - Row (0,)
2025-08-09 20:56:39,971 - sqlalchemy.engine.Engine - INFO - INSERT INTO service_types (name, category, base_price, description, estimated_duration_hours, is_active, updated_at) SELECT p0::VARCHAR, p1::servicecategory, p2::NUMERIC(10, 2), p3::TEXT, p4::INTEGER, p5::BOOLEAN, p6::TIMESTAMP WITH TIME ZONE FROM (V ... 1210 characters truncated ... ORDER BY sen_counter RETURNING service_types.id, service_types.created_at, service_types.id AS id__1
2025-08-09 20:56:39,982 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s (insertmanyvalues) 1/1 (ordered)] {'name__0': 'Shirt Wash', 'is_active__0': True, 'category__0': 'WASH', 'base_price__0': 40.0, 'updated_at__0': None, 'description__0': 'Regular shirt washing', 'estimated_duration_hours__0': 2, 'name__1': 'Pant Wash', 'is_active__1': True, 'category__1': 'WASH', 'base_price__1': 50.0, 'updated_at__1': None, 'description__1': 'Regular pant washing', 'estimated_duration_hours__1': 2, 'name__2': 'Suit Dry Clean', 'is_active__2': True, 'category__2': 'DRY_CLEAN', 'base_price__2': 200.0, 'updated_at__2': None, 'description__2': 'Professional suit dry cleaning', 'estimated_duration_hours__2': 24, 'name__3': 'Dress Dry Clean', 'is_active__3': True, 'category__3': 'DRY_CLEAN', 'base_price__3': 150.0, 'updated_at__3': None, 'description__3': 'Dress dry cleaning', 'estimated_duration_hours__3': 24, 'name__4': 'Shirt Iron', 'is_active__4': True, 'category__4': 'IRON', 'base_price__4': 20.0, 'updated_at__4': None, 'description__4': 'Shirt pressing only', 'estimated_duration_hours__4': 1, 'name__5': 'Saree Wash', 'is_active__5': True, 'category__5': 'SPECIAL', 'base_price__5': 80.0, 'updated_at__5': None, 'description__5': 'Delicate saree washing', 'estimated_duration_hours__5': 4, 'name__6': 'Curtain Cleaning', 'is_active__6': True, 'category__6': 'SPECIAL', 'base_price__6': 100.0, 'updated_at__6': None, 'description__6': 'Large curtain cleaning', 'estimated_duration_hours__6': 6, 'name__7': 'Blanket Wash', 'is_active__7': True, 'category__7': 'SPECIAL', 'base_price__7': 120.0, 'updated_at__7': None, 'description__7': 'Heavy blanket washing', 'estimated_duration_hours__7': 4}
2025-08-09 20:56:40,032 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'created_at')
2025-08-09 20:56:40,033 - sqlalchemy.engine.Engine - DEBUG - Row (1, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,034 - sqlalchemy.engine.Engine - DEBUG - Row (2, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,035 - sqlalchemy.engine.Engine - DEBUG - Row (3, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,036 - sqlalchemy.engine.Engine - DEBUG - Row (4, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,045 - sqlalchemy.engine.Engine - DEBUG - Row (5, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,046 - sqlalchemy.engine.Engine - DEBUG - Row (6, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,047 - sqlalchemy.engine.Engine - DEBUG - Row (7, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,049 - sqlalchemy.engine.Engine - DEBUG - Row (8, datetime.datetime(2025, 8, 9, 20, 56, 39, 866154, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:56:40,126 - app.utils.init_data - INFO - Default service types created
2025-08-09 20:56:40,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:40,137 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT loyalty_tier_configs.id AS loyalty_tier_configs_id, loyalty_tier_configs.tier_name AS loyalty_tier_configs_tier_name, loyalty_tier_configs.min_orders AS loyalty_tier_configs_min_orders, loyalty_tier_configs.discount_percentage AS loyalty_tier_configs_discount_percentage, loyalty_tier_configs.points_multiplier AS loyalty_tier_configs_points_multiplier, loyalty_tier_configs.color_code AS loyalty_tier_configs_color_code, loyalty_tier_configs.is_active AS loyalty_tier_configs_is_active, loyalty_tier_configs.created_at AS loyalty_tier_configs_created_at, loyalty_tier_configs.updated_at AS loyalty_tier_configs_updated_at 
FROM loyalty_tier_configs) AS anon_1
2025-08-09 20:56:40,179 - sqlalchemy.engine.Engine - INFO - [generated in 0.04290s] {}
2025-08-09 20:56:40,215 - sqlalchemy.engine.Engine - DEBUG - Col ('count_1',)
2025-08-09 20:56:40,217 - sqlalchemy.engine.Engine - DEBUG - Row (0,)
2025-08-09 20:56:40,232 - sqlalchemy.engine.Engine - INFO - INSERT INTO loyalty_tier_configs (tier_name, min_orders, discount_percentage, points_multiplier, color_code, is_active, updated_at) SELECT p0::VARCHAR, p1::INTEGER, p2::NUMERIC(5, 2), p3::NUMERIC(3, 2), p4::VARCHAR, p5::BOOLEAN, p6::TIMESTAMP WITH TI ... 702 characters truncated ... RETURNING loyalty_tier_configs.id, loyalty_tier_configs.created_at, loyalty_tier_configs.id AS id__1
2025-08-09 20:56:40,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s (insertmanyvalues) 1/1 (ordered)] {'is_active__0': True, 'min_orders__0': 0, 'color_code__0': '#CD7F32', 'points_multiplier__0': 1.0, 'discount_percentage__0': 0.0, 'updated_at__0': None, 'tier_name__0': 'bronze', 'is_active__1': True, 'min_orders__1': 5, 'color_code__1': '#C0C0C0', 'points_multiplier__1': 1.2, 'discount_percentage__1': 5.0, 'updated_at__1': None, 'tier_name__1': 'silver', 'is_active__2': True, 'min_orders__2': 15, 'color_code__2': '#FFD700', 'points_multiplier__2': 1.5, 'discount_percentage__2': 10.0, 'updated_at__2': None, 'tier_name__2': 'gold', 'is_active__3': True, 'min_orders__3': 30, 'color_code__3': '#E5E4E2', 'points_multiplier__3': 2.0, 'discount_percentage__3': 15.0, 'updated_at__3': None, 'tier_name__3': 'platinum'}
2025-08-09 20:56:40,251 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'created_at')
2025-08-09 20:56:40,252 - sqlalchemy.engine.Engine - DEBUG - Row (1, datetime.datetime(2025, 8, 9, 20, 56, 40, 181526, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,253 - sqlalchemy.engine.Engine - DEBUG - Row (2, datetime.datetime(2025, 8, 9, 20, 56, 40, 181526, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,263 - sqlalchemy.engine.Engine - DEBUG - Row (3, datetime.datetime(2025, 8, 9, 20, 56, 40, 181526, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,265 - sqlalchemy.engine.Engine - DEBUG - Row (4, datetime.datetime(2025, 8, 9, 20, 56, 40, 181526, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,268 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:56:40,318 - app.utils.init_data - INFO - Loyalty tier configurations created
2025-08-09 20:56:40,333 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:40,353 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT subscription_plan_configs.id AS subscription_plan_configs_id, subscription_plan_configs.plan_name AS subscription_plan_configs_plan_name, subscription_plan_configs.discount_percentage AS subscription_plan_configs_discount_percentage, subscription_plan_configs.points_bonus_multiplier AS subscription_plan_configs_points_bonus_multiplier, subscription_plan_configs.monthly_fee AS subscription_plan_configs_monthly_fee, subscription_plan_configs.description AS subscription_plan_configs_description, subscription_plan_configs.is_active AS subscription_plan_configs_is_active, subscription_plan_configs.created_at AS subscription_plan_configs_created_at, subscription_plan_configs.updated_at AS subscription_plan_configs_updated_at 
FROM subscription_plan_configs) AS anon_1
2025-08-09 20:56:40,366 - sqlalchemy.engine.Engine - INFO - [generated in 0.01288s] {}
2025-08-09 20:56:40,394 - sqlalchemy.engine.Engine - DEBUG - Col ('count_1',)
2025-08-09 20:56:40,397 - sqlalchemy.engine.Engine - DEBUG - Row (0,)
2025-08-09 20:56:40,417 - sqlalchemy.engine.Engine - INFO - INSERT INTO subscription_plan_configs (plan_name, discount_percentage, points_bonus_multiplier, monthly_fee, description, is_active, updated_at) SELECT p0::VARCHAR, p1::NUMERIC(5, 2), p2::NUMERIC(3, 2), p3::NUMERIC(10, 2), p4::TEXT, p5::BOOLEAN, p6:: ... 766 characters truncated ... ription_plan_configs.id, subscription_plan_configs.created_at, subscription_plan_configs.id AS id__1
2025-08-09 20:56:40,418 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/1 (ordered)] {'is_active__0': True, 'monthly_fee__0': 0.0, 'discount_percentage__0': 0.0, 'updated_at__0': None, 'points_bonus_multiplier__0': 1.0, 'description__0': 'Basic plan with standard benefits', 'plan_name__0': 'basic', 'is_active__1': True, 'monthly_fee__1': 99.0, 'discount_percentage__1': 5.0, 'updated_at__1': None, 'points_bonus_multiplier__1': 1.5, 'description__1': 'Premium plan with enhanced benefits', 'plan_name__1': 'premium', 'is_active__2': True, 'monthly_fee__2': 149.0, 'discount_percentage__2': 10.0, 'updated_at__2': None, 'points_bonus_multiplier__2': 2.0, 'description__2': 'Family plan for multiple users', 'plan_name__2': 'family', 'is_active__3': True, 'monthly_fee__3': 299.0, 'discount_percentage__3': 15.0, 'updated_at__3': None, 'points_bonus_multiplier__3': 2.5, 'description__3': 'Business plan with maximum benefits', 'plan_name__3': 'business'}
2025-08-09 20:56:40,433 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'created_at')
2025-08-09 20:56:40,434 - sqlalchemy.engine.Engine - DEBUG - Row (1, datetime.datetime(2025, 8, 9, 20, 56, 40, 367711, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,435 - sqlalchemy.engine.Engine - DEBUG - Row (2, datetime.datetime(2025, 8, 9, 20, 56, 40, 367711, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,437 - sqlalchemy.engine.Engine - DEBUG - Row (3, datetime.datetime(2025, 8, 9, 20, 56, 40, 367711, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,447 - sqlalchemy.engine.Engine - DEBUG - Row (4, datetime.datetime(2025, 8, 9, 20, 56, 40, 367711, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 20:56:40,450 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 20:56:40,487 - app.utils.init_data - INFO - Subscription plan configurations created
2025-08-09 20:56:40,497 - app.utils.init_data - INFO - Default data initialization completed
2025-08-09 20:56:49,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 20:56:49,594 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.phone AS users_phone, users.hashed_password AS users_hashed_password, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login_at AS users_last_login_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-08-09 20:56:49,599 - sqlalchemy.engine.Engine - INFO - [generated in 0.00524s] {'email_1': 'user@example.com', 'param_1': 1}
2025-08-09 20:56:49,681 - sqlalchemy.engine.Engine - DEBUG - Col ('users_id', 'users_email', 'users_name', 'users_phone', 'users_hashed_password', 'users_role', 'users_is_active', 'users_is_verified', 'users_created_at', 'users_updated_at', 'users_last_login_at')
2025-08-09 20:56:49,684 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-08-09 21:00:32,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 21:00:32,815 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.phone AS users_phone, users.hashed_password AS users_hashed_password, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login_at AS users_last_login_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-08-09 21:00:32,855 - sqlalchemy.engine.Engine - INFO - [cached since 223.3s ago] {'email_1': 'user@example.com', 'param_1': 1}
2025-08-09 21:00:32,891 - sqlalchemy.engine.Engine - DEBUG - Col ('users_id', 'users_email', 'users_name', 'users_phone', 'users_hashed_password', 'users_role', 'users_is_active', 'users_is_verified', 'users_created_at', 'users_updated_at', 'users_last_login_at')
2025-08-09 21:00:33,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, name, phone, hashed_password, role, is_active, is_verified, updated_at, last_login_at) VALUES (%(email)s, %(name)s, %(phone)s, %(hashed_password)s, %(role)s, %(is_active)s, %(is_verified)s, %(updated_at)s, %(last_login_at)s) RETURNING users.id, users.created_at
2025-08-09 21:00:33,381 - sqlalchemy.engine.Engine - INFO - [cached since 233.7s ago] {'email': 'user@example.com', 'name': 'tshepo', 'phone': '0785340149', 'hashed_password': '$2b$12$w43sh9l2Z8bh4fvXyWWR5OQ4NyP1av9zPz1evMOYyFV4Nt59CZC86', 'role': 'ADMIN', 'is_active': True, 'is_verified': False, 'updated_at': None, 'last_login_at': None}
2025-08-09 21:00:33,383 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'created_at')
2025-08-09 21:00:33,384 - sqlalchemy.engine.Engine - DEBUG - Row (2, datetime.datetime(2025, 8, 9, 21, 0, 32, 858433, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 21:00:33,387 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 21:00:33,467 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 21:00:33,471 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.name, users.phone, users.hashed_password, users.role, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-08-09 21:00:33,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.06583s] {'pk_1': 2}
2025-08-09 21:00:33,558 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'email', 'name', 'phone', 'hashed_password', 'role', 'is_active', 'is_verified', 'created_at', 'updated_at', 'last_login_at')
2025-08-09 21:00:33,570 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'user@example.com', 'tshepo', '0785340149', '$2b$12$w43sh9l2Z8bh4fvXyWWR5OQ4NyP1av9zPz1evMOYyFV4Nt59CZC86', <UserRole.ADMIN: 'admin'>, True, False, datetime.datetime(2025, 8, 9, 21, 0, 32, 858433, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))), None, None)
2025-08-09 21:00:33,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-08-09 21:01:28,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 21:01:28,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.phone AS users_phone, users.hashed_password AS users_hashed_password, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login_at AS users_last_login_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-08-09 21:01:28,329 - sqlalchemy.engine.Engine - INFO - [cached since 278.7s ago] {'email_1': 'user@example.com', 'param_1': 1}
2025-08-09 21:01:28,438 - sqlalchemy.engine.Engine - DEBUG - Col ('users_id', 'users_email', 'users_name', 'users_phone', 'users_hashed_password', 'users_role', 'users_is_active', 'users_is_verified', 'users_created_at', 'users_updated_at', 'users_last_login_at')
2025-08-09 21:01:28,449 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'user@example.com', 'tshepo', '0785340149', '$2b$12$w43sh9l2Z8bh4fvXyWWR5OQ4NyP1av9zPz1evMOYyFV4Nt59CZC86', <UserRole.ADMIN: 'admin'>, True, False, datetime.datetime(2025, 8, 9, 21, 0, 32, 858433, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))), None, None)
2025-08-09 21:01:29,070 - sqlalchemy.engine.Engine - INFO - UPDATE users SET updated_at=now(), last_login_at=%(last_login_at)s WHERE users.id = %(users_id)s
2025-08-09 21:01:29,071 - sqlalchemy.engine.Engine - INFO - [generated in 0.00128s] {'last_login_at': datetime.datetime(2025, 8, 9, 19, 1, 29, 68210), 'users_id': 2}
2025-08-09 21:01:29,132 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-08-09 21:01:29,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-08-09 21:01:29,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.phone AS users_phone, users.hashed_password AS users_hashed_password, users.role AS users_role, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login_at AS users_last_login_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-08-09 21:01:29,218 - sqlalchemy.engine.Engine - INFO - [generated in 0.03501s] {'pk_1': 2}
2025-08-09 21:01:29,247 - sqlalchemy.engine.Engine - DEBUG - Col ('users_id', 'users_email', 'users_name', 'users_phone', 'users_hashed_password', 'users_role', 'users_is_active', 'users_is_verified', 'users_created_at', 'users_updated_at', 'users_last_login_at')
2025-08-09 21:01:29,252 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'user@example.com', 'tshepo', '0785340149', '$2b$12$w43sh9l2Z8bh4fvXyWWR5OQ4NyP1av9zPz1evMOYyFV4Nt59CZC86', <UserRole.ADMIN: 'admin'>, True, False, datetime.datetime(2025, 8, 9, 21, 0, 32, 858433, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))), datetime.datetime(2025, 8, 9, 21, 1, 28, 355379, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))), datetime.datetime(2025, 8, 9, 19, 1, 29, 68210, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))
2025-08-09 21:01:29,597 - app.main - WARNING - Slow request: POST http://127.0.0.1:8000/api/v1/auth/login took 1.32s
2025-08-09 21:01:29,601 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-08-09 21:05:17,395 - app.main - INFO - Shutting down LaundryPro API...
